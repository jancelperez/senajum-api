{"version":3,"sources":["pictures-test.js"],"names":["t","id","v4","servidor","url","json","body","deepEqual","todo"],"mappings":"AAAA;AACA;;;;;;;;;;AACA;;;;AAGA;;;;AAGA;;;;AAGA;;;;AAGA;;;;AAGA;;;;;;AAEA;;;AANA;;;AANA;AAaA,mBAAK,WAAL;AAAA,sFAAkB,iBAAMA,CAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAChB;AACIC,cAFY,GAEP,mBAAKC,EAAL,EAFO;;AAIhB;;AACIC,oBALY,GAKD,wCALC;;AAOhB;AACA;;AARgB;AAAA,mBASA,0BAAOA,QAAP,CATA;;AAAA;AASZC,eATY;AAAA;AAAA,mBAYC,8BAAQ,EAACA,KAAQA,GAAR,SAAeH,EAAhB,EAAsBI,MAAM,IAA5B,EAAR,CAZD;;AAAA;AAYZC,gBAZY;;;AAchB;AACAN,cAAEO,SAAF,CAAYD,IAAZ,EAAkB,EAAEL,MAAF,EAAlB;;AAfgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAlB;;AAAA;AAAA;AAAA;AAAA;AAiBA;;;AArBA;;;AANA;;;AANA;AAkCA,cAAKO,IAAL,CAAU,QAAV;AACA,cAAKA,IAAL,CAAU,cAAV","file":"pictures-test.js","sourcesContent":["'use strict'\r\n// ava es para poder realizar los test\r\nimport test from 'ava'\r\n\r\n// send es el metodo para enviar respuestas\r\nimport micro from 'micro'\r\n\r\n// uuid es para trabajar con id\r\nimport uuid from 'uuid-base62'\r\n\r\n// test-liste es una herramienta que me permite hacer test con microservicios\r\nimport listen from 'test-listen'\r\n\r\n// request-promise permite hacer http utilizando promesas\r\nimport request from 'request-promise'\r\n\r\n// importamos el modulu pictures el cual creamos para el sistema de enrutamiento\r\nimport pictures from '../pictures'\r\n\r\n// GET /id es la primera ruta la cual es un test asincrono\r\ntest('GET /: ID', async t => {\r\n  // generar un id como si fuera el id de la imagen\r\n  let id = uuid.v4()\r\n\r\n  // cramos un servidor utilizando micro el cual recibe la funcion main que tiene los objetos res y req\r\n  let servidor = micro(pictures)\r\n\r\n  // listen retorna una url con url y puerto con el cual el servidor esta corriendo el puerto lo crea listen\r\n  // listenn retorna una promesa\r\n  let url = await listen(servidor)\r\n\r\n  // hacer la peticion http diciendo que nos devuelva los datos en json\r\n  let body = await request({url: `${url}/${id}`, json: true})\r\n\r\n  // con deepEquual varlidar que el cuerpo que nos retorna es igual al objeto que obtiene el id\r\n  t.deepEqual(body, { id })\r\n})\r\n// una de las caracteristicas de ava es definir el test sin implementar el test esto lo puedo hacer con todo\r\ntest.todo('POST /')\r\ntest.todo('POST /:/like')\r\n"]}